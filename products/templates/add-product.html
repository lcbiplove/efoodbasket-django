{% extends 'base.html' %}

{% block title %}Add Product | efoodbasket{% endblock %}

{% block titleLinks %}
    <link rel="stylesheet" href="/public/css/my-drop-uploader.css">
    <link rel="stylesheet" type="text/css" href="/public/css/form.css">
    <link rel="stylesheet" type="text/css" href="/public/css/add-product.css">
{% endblock %}

{% block main %}
    <div class="max-width-wrapper">
        <div class="signup-outer-wrapper">
            <div class="signup-wrapper">
                <div class="signup-container">
                    <div>
                        <img src="/public/images/efoodbasket-name.png" class="login-logo" alt="eFoodBasket-logo">
                    </div>
                    <div class="form-wrapper">
                        <form class="login-form" method="POST" enctype="multipart/form-data" >
                            <div class="form-row">
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <label for="nameId">Product Name</label>
                                        <input id="nameId" type="text" name="product_name" placeholder="Product Name..." value="{{ valid_data.product_name }}">
                                        <small class="red-text">{{ errors.product_name }}</small>
                                    </div>
                                </div>
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <label for="priceId">Price</label>
                                        <input id="priceId" type="text" name="price" placeholder="Product Price..." value="{{ valid_data.price }}">
                                        <small class="red-text">{{ errors.price }}</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <label for="quantityId">Quantity</label>
                                        <input id="quantityId" type="text" name="quantity" placeholder="Product Quantity..." value="{{ valid_data.quantity }}">
                                        <small class="red-text">{{ errors.quantity }}</small>
                                    </div>
                                </div>
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <label for="categoryId">Product Category</label>
                                        <select name="category_id" id="categoryId">
                                            <option value="">--Select category--</option>
                                            {% for category in categories %}
                                                <option value="{{ category.CATEGORY_ID }}" {% if category.CATEGORY_ID == valid_data.category_id %}selected{% endif %}>{{ category.CATEGORY_NAME }}</option>
                                            {% endfor %}
                                        </select>
                                        <small class="red-text">{{ errors.category_id }}</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <input type="checkbox" name="availability"   {% if valid_data.availability or not valid_data %}checked{% endif %}> <span class="grey-text">Availability</span>
                                    </div>
                                </div>
                                <div class="form-col-2">
                                    <div class="inpt-wrapper">
                                        <label for="shopId">Shop Name</label>
                                        <select name="shop_id" id="shopId">
                                            <option value="">--Select shop name--</option>
                                            {% for shop in shops %}
                                                <option value="{{ shop.SHOP_ID }}" {% if shop.SHOP_ID == valid_data.shop_id %}selected{% endif %}>{{ shop.SHOP_NAME }}</option>
                                            {% endfor %}
                                        </select>
                                        <small class="red-text">{{ errors.shop_id }}</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-col-2">
                                <div class="inpt-wrapper">
                                    <label for="discountId">Discount</label>
                                    <input id="discountId" type="number" name="discount" placeholder="Product discount if any..." value="{{ valid_data.discount }}">
                                    <small class="red-text">{{ errors.discount }}</small>
                                </div>
                            </div>
                            <div class="inpt-wrapper">
                                <label for="detailsId">Description</label>
                                <textarea name="description" id="detailsId" placeholder="Decribe your product in few words...">{{ valid_data.description }}</textarea>
                                <small class="red-text">{{ errors.description }}</small>
                            </div>
                            <div class="inpt-wrapper">
                                <label for="alleryInformId">Allergy Information</label>
                                <textarea name="allergy_information" id="alleryInformId" placeholder="Decribe your product allergy information...">{{ valid_data.allergy_information }}</textarea>
                                <small class="red-text">{{ errors.allergy_information }}</small>
                            </div>

                            <div class="inpt-wrapper">
                                <label>Images</label>
                                <div id="drop-area">
                                    <div class="cloud-img-wrapper">
                                        <img class="cloud-upload-img" src="/public/images/cloud-upload.svg" alt="Cloud-upload-icon">
                                    </div>
                                    <div class="drop-tips">
                                        Drop files here or <label for="fileElem" class="browse-files">Browse</label>
                                    </div>
                                    <input type="file" id="fileElem" name="images[]" accept="image/*" multiple>
                                    <div id="gallery"></div>
                                </div>
                                <small class="red-text">{{ errors.images }}</small>
                            </div>

                            <div class="login-btn-wrapper">
                                <button class="login-btn" type="submit">Add</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts%}
    <script src="/public/js/my-drop-uploader.js"></script>
{% endblock %}